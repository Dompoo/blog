- 포트와 어댑터 아키텍쳐라고도 불린다.
- 계층형 아키텍쳐의 단방향 비대칭 구조가 아닌, 대칭형 아키텍쳐
- 위 아래, 좌 우가 아닌 내부와 외부라는 대칭 구조를 가진다.
- 육각형 모양을 기준으로 내부와 외부가 나뉜다.
    
    ![[헥사고날 아키텍쳐_ddd.png]]
    
- `육각형 내부` : 중요한 도메인 로직을 담는 코어 애플리케이션
    - 애플리케이션 등으로 부른다.
    - 도메인 로직을 담는 트랜잭션 스크립트
    - 도메인 객체
- `육각형 외부` : 헥사곤과 상호작용하는 모든 것
    - 액터라고 부른다.
    - 사용자
    - 브라우저
    - DB
    - 메시징 서비스
    - 원격 서비스
    - **테스트**
- **왜 사용하는가?**
    - 테스트하기 매우 쉬워진다. ← 제안한 사람이 매우 강조했음
        - 액터가 바뀌어도 다시 빌드하지 않고 테스트
    - 외부의 세부 구현이 내부로 침투하는 것을 막는다. 반대도 마찬가지 (순수성 추구)
- `포트` : 육각형 외부와 내부가 연결되는 지점
    - 내부가 제공하는 인터페이스의 형태로 작성된다.
    - `lollipop` : 내부가 외부에 제공하는 인터페이스 (`provided interface`)
        - 회원 등록 인터페이스에는 사용자나 테스트등이 연결될 수 있다.
        - 여기에 연결되는 actor를 primary actor 라고도 부른다.
        - 내부가 구현하게 되며, 외부가 사용하게 된다.
    - `socket` : 내부가 외부에 요구하는(필요한) 인터페이스 (`required interface`)
        - 회원 저장 인터페이스에는 DB나 mock등이 연결될 수 있다.
        - 여기에 연결되는 actor를 secondary actor 라고도 부른다.
        - 외부가 구현하게 되며, 내부가 사용하게 된다.
- `어댑터` : 포트를 액터가 직접 연결하기 힘들 때, 변환 기능을 제공한다.
    - 예를 들어, 회원 등록 기능(포트)를 외부 사용자(액터)가 사용하기 어렵기 때문에 webapi 어댑터를 구현한다.
    - 항상 필요한 것은 아니며, 직접 연결하기 힘들 때 사용한다.
- 참고 : 육각형 내부가 중요하지는 않다.
    - **포트와 어댑터를 통해서 육각형과 외부를 분리하는 것이 코어 컨셉이다.**
    - 내부는 스파게티 코드던 도메인 레이어를 두던 상관없다.
- [https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/#application-core-organisation](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/#application-core-organisation)