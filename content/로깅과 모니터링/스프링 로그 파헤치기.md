## 로그 원본

```
2025-04-22T16:15:00.250+09:00  INFO 26660 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-22T16:15:00.254+09:00  INFO 26660 --- [           main] roomescape.RoomEscapeApplication         : Started RoomEscapeApplication in 0.92 seconds (process running for 1.146)

< HTTP 요청 응답 시작 >

2025-04-22T16:15:32.055+09:00  INFO 26660 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-22T16:15:32.055+09:00  INFO 26660 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-22T16:15:32.056+09:00  INFO 26660 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms

```

## 로그 앞에 붙는 수식어

```
2025-04-22T16:15:00.250+09:00  INFO 26660 --- [           main]
2025-04-22T16:15:32.055+09:00  INFO 26660 --- [nio-8080-exec-1]

```

- 앞에서부터 다음을 나타낸다.
    - 로그 발생 시간 (`2025-04-22T16:15:00.250+09:00`)
    - 로그 레벨 (`INFO`)
    - 프로세스 ID (`26660`)
    - 스레드 이름 (`main`, `nio-8080-exec-1`)
- `nio-8080-exec-1` 스레드
    - 톰캣에는 `Non-blocking I/O` 커넥터라는 것이 존재하는데, 이 NIO 커넥터에는 여러 개의 worker 스레드가 존재한다. (exec 스레드풀)
    - exec 스레드풀에서 worker 스레드 하나를 뽑아서 HTTP 요청을 처리하도록 시킨다.

## 로그를 남긴 클래스명

```
o.s.b.w.embedded.tomcat.TomcatWebServer
roomescape.RoomEscapeApplication
o.a.c.c.C.[Tomcat].[localhost].[/]
o.s.web.servlet.DispatcherServlet

```

- `o.s.b.w.embedded.tomcat.TomcatWebServer` : 스프링부트의 내장 톰캣을 초기화하는 객체
- `roomescape.RoomEscapeApplication` : 메인 애플리케이션 객체
- `o.a.c.c.C.[Tomcat].[localhost].[/]` : 실제 톰캣, 엔진-호스트-컨텍스트를 뜻한다.
- `o.s.web.servlet.DispatcherServlet` : 스프링의 디스패쳐서블릿 객체

## 로그 해석

### 톰캣 서버 시작 성공

```
o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'

```

- 스프링부트의 내장 톰캣을 초기화하는 객체(`TomcatWebServer`)가 내장 톰캣을 정상적으로 시작하였다.
    - 8080 포트에서 실행되었다.
    - http 프로토콜을 사용한다.
    - 루트 경로는 / 이다.

### 스프링 애플리케이션 시작

```
roomescape.RoomEscapeApplication         : Started RoomEscapeApplication in 0.92 seconds (process running for 1.146)

```

- 스프링 애플리케이션이 정상적으로 시작하였다.
    - 스프링부트의 모든 컴포넌트는 0.92초만에 로딩되었다.
    - 이 시점에서 JVM은 1.146초 동안 돌고 있었다.

### 톰캣 수준 DispatcherServlet 초기화 시작

```
o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'

```

- 톰캣이 `servlet.init()`을 호출하여 `DispatcherServlet`을 초기화를 시작한다.
- loadOnStartup 옵션이 0 이하였으므로 (기본 -1), 첫 요청이 들어왔을 때 초기화를 시작한다.
    - 서버 시작 시간을 단축한다.
    - 초기 메모리 사용량을 줄인다.
    - `mvc.servlet.load-on-startup` 옵션을 통해 수정 가능하다.

### 스프링 수준 DispatcherServlet 초기화 시작 및 종료

```
o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms

```

- 스프링이 `DispatcherServlet.init()`를 호출하여 `DispatcherServlet`을 초기화 한다.
    - 여기서 초기화란, `DispatcherServlet`에 필요한 `HandlerMapping`, `ViewResolver` 등의 스프링 MVC 컴포넌트를 준비하는 것이다.
- 1ms 이후에 초기화가 완료되었다.