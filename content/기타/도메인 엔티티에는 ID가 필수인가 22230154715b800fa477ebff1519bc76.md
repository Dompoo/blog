# 도메인 엔티티에는 ID가 필수인가?

작성일: 2025년 6월 30일 오후 11:48
카테고리: 의심하기

레벨1에서는 JVM이 꺼지면 그것으로 객체의 생명주기는 종료되었다. 매우 간단한 애플리케이션이라서 그렇다. 그래서 우리는 동일한 객체인지 여부를 객체의 주소값으로 (==비교) 하고 있던 것이다.

하지만 **도메인이 점점 더 복잡해지면 JVM보다 개념의 생명주기가 더 길어지는 도메인도 등장한다.** 예를 들어, 로또를 구매했는데, JVM이 종료되었다가 다시 켜진 것만으로 해당 로또가 내 소유가 아니게 되면 억울하다. 해당 로또는 영원히 내 소유여야 한다. `new Person()` 를 여러번 하게 되더라도 (객체 주소가 달라지더라도) 동일한 객체로 판단될 필요가 있다는 것이다.

이런 상황을 회피하기 위해서 `Person` 의 필드값을 몇개 사용해볼 수 있다. 해당 사람의 얼굴로 식별하는 것이다. 가능한가? 불가능하다. 성형을 할 수 있기 때문이다. 해당 사람의 이름? 여전히 불가능하다.

이런 상황을 회피하기 위해서 우리는 `ID` 를 사용해야 한다. 해당 객체의 속성과는 사뭇 다른 이 필드는 해당 객체를 식별하기 위해서만 존재한다. 이 필드를 통해 우리는 다른 곳에서 생성된 객체여도, 시간이 지나도 동일한 객체로 판단할 수 있게 되는 것이다.