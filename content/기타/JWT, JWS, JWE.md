# JWT, JWS, JWE

작성일: 2025년 5월 7일 오후 3:28
카테고리: Security

- JWT (Json Web Token)
    - json 형식으로 데이터를 토큰화하는 웹 표준
    - `헤더.페이로드[.서명]` 으로 구성된다.
    - 데이터를 전달하기 위한 표준이다.
    - 탄생 배경
        - 기존에 사용하던 쿠키, 세션 방식의 문제점
            - 쿠키 : 탈취될 수 있다.
            - 세션 : 서버에서 저장해야 하는데, MSA / 트래픽 증가 상황에서 불리하다.
        - 따라서 stateless한 인증방식이 필요했다.
        - JWT는 필요한 정보를 토큰 자체에 담기 때문에 식별 내용을 서버에 저장할 필요가 없다.
    - 어? 그러면 쿠키와 동일하게 JWT도 탈취될 수 있는 것 아닌가?
    → 맞다. 다만, HttpOnly / Secure을 설정해볼 수 있다.
- JWS (Json Web Signature)
    - JWT에 서명을 더해, 무결성을 검증
    - `[.서명]` 부분이 필수적으로 추가되는데, 이는 헤더와 페이로드를 Key로 암호화한 것이다.
    - 외부에서 해당 토큰의 헤더와 페이로드를 수정하더라도 무결성 검사가 걸리게 된다.
    - **주의! 헤더와 페이로드는 여전히 읽힐 수 있으므로, 민감한 정보를 포함하면 안된다.**
- JWE (Json Web Encryption)
    - JWS에 암호화를 더해, 전체 토큰을 암호화
    - JWS와 다르게 외부에서 헤더와 페이로드를 읽지 못하게 된다.