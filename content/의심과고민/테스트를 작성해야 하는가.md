> 오케스트라에서는 튜닝을 하기 위해 오보에가 첫 음을 낸다. 오보에의 A음에 맞춰 각자의 악기는 자기의 첫번째 A음을 맞춘다. 그 다음부터는 기타를 예로 들면, 그 다음에는 다음 줄의 튜닝을 하기 위해 그 전 줄과 비교하여 튜닝한다. 첫번째 줄의 5번 프렛과 두번째 줄의 0번 프렛을 같이 내면서 튜닝하는 식이다. 근데 갑자기 등골이 싸늘해진다. **이렇게 튜닝하다보면 오차가 누적될 것이고, 결국 아예 다른 소리를 내지 않을까?**
> 

위 이야기는, 내가 테스트를 짜는 이유와 많이 닮아있다. **내가 테스트를 짜는 이유는 오보에의 A음을 믿지 못하기 때문이다.** 나는 뛰어난 개발자가 아니기 때문에, 5분전에 짠 코드도 금방 잊어버리고 TODO를 작성해놓지 않으면 지나쳤던 몇가지 요구사항들을 놓치기 일쑤다.

나는 그래서 테스트를 작성한다. 오보에의 A음이 맞다고 검증받기 위해서, 또는 이전 튜닝이 맞다고 검증받기 위해서이다. 그런 안전지대들을 확보하여 다음 줄(기타와 코드는 똑같은 ‘줄’이라는 단어를 사용한다.)로 넘어갈 수 있다. 금방 추진력을 다시 얻을 수 있다. 내가 짠 코드를 믿고 해당 코드를 사용하는 다른 코드를 짜기 시작할 수 있다.

테스트를 작성해야만 하는 이유는 없다고 생각한다. 하지만 나는 내가 거지같기 때문에 테스트를 작성한다. 아인슈타인은 아마 테스트를 작성할 필요가 없을 것이다. 하지만 결국 그런 사람도 고꾸라지기 마련이라고 생각한다. 우주 상수가 그렇듯이, 아인슈타인도 고꾸라졌다. 누구나 자신을 온전히 믿는다는 것은 어렵다. 그래서 다들 테스트를 작성하는 것이 아닌가 싶다.

> 💡 
**테스트를 믿을 수 있는가?**
너가 짠 프로덕션 코드를 못 믿듯이, 너가 짠 테스트 코드도 믿지 못하는 것 아닌가?
> 

맞다. 내가 짠 프로덕션 코드가 거지같듯이 테스트코드도 또 거지같을 수 있다. 프로덕션 코드가 틀렸는데 테스트가 초록불을 낼 수도 있고, 프로덕션 코드가 맞았는데, 테스트는 빨간불을 낼 수도 있다.

하지만 놀랍게도 프로덕션 코드를 잘 짜는 것보다 테스트 코드를 잘 짜는 것이 더 쉽다. 테스트 코드는 그 어떠한 구현세부사항에도 결합하지 않고 오직 입출력을 테스트하기 때문에 훨씬 간단하다. 그래서 프로덕션 코드는 믿지 못해도 테스트 코드는 믿을 수 있다. 너무나도 간단하고, 특히 TDD로 개발하게 된다면 프로덕션 코드와 1대1로 매칭되기 때문에 실수하는 구멍을 막을 수 있다.

또 좋은 리뷰 문화를 통해서도 해결할 수 있다. 내 테스트코드를 보고 다른 개발자는 내가 어떠한 부분에 있어 안정성을 고려했는지 알 수 있고, 금방 내가 눈치채지 못한 구멍들을 생각해낼 수 있다. 이런 과정에서도 테스트가 많은 도움이 된다.