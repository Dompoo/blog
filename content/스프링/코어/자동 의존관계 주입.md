한 클래스가 빈으로 등록되고 싶은데, 다른 클래스에 의존관계가 있을 때, 어떻게 해야 하는가?

# 수동 빈 등록

```java
public class MyComponent {
    
    private final SubComponent1 subComponent1;
    private final SubComponent2 subComponent2;
    
    public MyComponent(final SubComponent1 subComponent1, final SubComponent2 subComponent2) {
        this.subComponent1 = subComponent1;
        this.subComponent2 = subComponent2;
    }
}

```

```java
@Configuration
public class AppConfig {
    
    @Bean
    public SubComponent1 subComponent1() {
        return new SubComponent1();
    }
    
    @Bean
    public SubComponent2 subComponent2() {
        return new SubComponent2();
    }
    
    @Bean
    public MyComponent myComponent() {
        return new MyComponent(
                subComponent1(),
                subComponent2()
        );
    }
}
```

위와 같은 방식으로 `@Bean` 메서드에서 주입해주도록 설정하면 된다.

# 자동 빈 등록

자동 빈 등록에서 갑자기 문제가 생긴다. 생성을 직접하지 않으니, 외부에서 주입할 방법이 사라진다.

하지만 스프링은 `@Autowired` 를 통해서 의존관계를 주입해준다.

```java
@Component
public class MyComponent {
    
    private final SubComponent1 subComponent1;
    private final SubComponent2 subComponent2;
    
    @Autowired
    public MyComponent(final SubComponent1 subComponent1, final SubComponent2 subComponent2) {
        this.subComponent1 = subComponent1;
        this.subComponent2 = subComponent2;
    }
}
```

그리고 위와 같이 **생성자가 1개인 상황에서는 해당 애노테이션을 제거할 수 있다.**

# 정리

- 수동 빈 등록에서는 직접 생성하는 코드를 작성하기 때문에 내가 직접 의존관계를 주입하면 된다.
- 자동 빈 등록에서는 직접 생성하는 코드가 없기 때문에 자동 의존관계 주입을 쓰면 된다.